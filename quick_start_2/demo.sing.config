report.overwrite=true
trace.overwrite=true
dag.overwrite=true

params {
	outdir="quick_start_output"

}


executor {
	queueSize=6
}


singularity {
	enabled=true
	autoMounts =true
	runOptions=' --writable-tmpfs ' 
}


process {
	withName: runFQC {
		container = 'eddieasalinas/circrnaflow:fastqc'
		publishDir="$params.outdir/FastQC/" 
    	}

	withName: runFlexBar {
		container = 'eddieasalinas/circrnaflow:flexbar'
	}

	withName: mapAgainstRRNA {
		container = 'eddieasalinas/circrnaflow:bowtie2'
		publishDir="$params.outdir/rRNA_cleaned_star_input/"
	}

	withName: star_align_pair {
		container = 'eddieasalinas/circrnaflow:STAR'
		publishDir="$params.outdir/star_output_pair/"
	}

	withName: star_align_first {
		container = 'eddieasalinas/circrnaflow:STAR'
		publishDir="$params.outdir/star_output_first/"
	}

	withName: star_align_second {
		container = 'eddieasalinas/circrnaflow:STAR'
		publishDir="$params.outdir/star_output_second/"
	}

	withName: DCC_step {
		container = 'eddieasalinas/circrnaflow:DCC'
		publishDir="$params.outdir/DCC/"
	}

	withName: circtest {
		container = 'eddieasalinas/circrnaflow:CircTest'
		publishDir="$params.outdir/circtest/"
	}

	withName: circtest_plain {
		container = 'eddieasalinas/circrnaflow:CircTest'
		publishDir="$params.outdir/circtest_plain/"
		}

	withName: circtest_plotting {
		container = 'eddieasalinas/circrnaflow:Utility'
		publishDir="$params.outdir/circtest_plotting/"
	}

	withName: run_cluster_profiler { 
		container = 'eddieasalinas/circrnaflow:ClusterProfiler'
		publishDir="$params.outdir/cluster_profiler/"
	}

	withName: circtest_plain_plotting {
		container = 'eddieasalinas/circrnaflow:Utility'
		publishDir="$params.outdir/circtest_plotting_plain/"
	}

	withName: prepare_for_CRAFT {
		container = 'eddieasalinas/circrnaflow:craft'
		publishDir="$params.outdir/craft_prep" 
		}

	withName: run_craft {
		container = 'eddieasalinas/circrnaflow:craft'
		publishDir="$params.outdir/craft" 

	}

	withName: deepTarget {
		container = 'eddieasalinas/circrnaflow:KipoiDeepTarget'
		publishDir="$params.outdir/deeptarget/"
	}


}
